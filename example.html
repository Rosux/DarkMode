<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DarkMode Example By Rosux</title>
    <link rel="stylesheet" href="main.css">
    <script src="DarkMode.js"></script>
</head>
<body>
    <div class="center full">
        <h1>Click the button to change darkmode</h1>
        <div class="button-switch uwu">
            <input type="checkbox" id="darkmode" darkmode-selector="1">
            <label for="darkmode"><p>Dark</p><p>Bright</p></label>
        </div>
        <div class="button-switch uwu">
            <input type="checkbox" id="darkmodeeee" darkmode-selector="2">
            <label for="darkmodeeee"><p>Bright</p><p>Dark</p></label>
        </div>
        <div style="cursor: pointer;" onclick="del();">Click here to delete extra's</div>
        <div style="cursor: pointer;" id="insert" onclick="addButton();">Click to add more buttons</div>
        <script>
            let tempbuttons = [];
            // setting up the darkmode
            let darkModeTheme = "--header-color:hsl(0,0%,20%);--text-color:#d3d3d3;--background-color:hsl(0,0%,9%);--accent-color-1:#202020;--accent-color-2:#303030;";
            let lightModeTheme = "--header-color:hsl(0,0%,80%);--text-color:hsl(0,0%,17%);--background-color:hsl(0,0%,91%);--accent-color-1:hsl(0,0%,87%);--accent-color-2:hsl(0,0%,81%);";
            let darkmode = new Darkmode(darkModeTheme, lightModeTheme, true);
            // for creating more buttons
            var x = 2;
            function addButton(){
                let rand = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                // wrapper
                const buttonwrap = document.createElement("div");
                buttonwrap.classList.add("button-switch");
                buttonwrap.classList.add("uwu");
                // input
                const input = document.createElement("input");
                input.setAttribute("type", "checkbox");
                input.setAttribute("darkmode-selector", x);
                input.setAttribute("id", rand);
                // label
                const label = document.createElement("label");
                label.setAttribute("for", rand);
                // p
                const p1 = document.createElement("p");
                const p2 = document.createElement("p");
                if(x == 1){
                    p1.innerText = "Dark";
                    p2.innerText = "Bright";
                }else{
                    p1.innerText = "Bright";
                    p2.innerText = "Dark";
                }
                x==1 ? x=2 : x=1 ;
                // add the text node to the newly created div
                label.appendChild(p1);
                label.appendChild(p2);
                buttonwrap.appendChild(input);
                buttonwrap.appendChild(label);
                document.getElementById("insert").after(buttonwrap);
                tempbuttons.push(buttonwrap);
                // refreshing buttons so the darkmode class knows what buttons to use
                darkmode.addButtonListeners();
                // also updating buttons so they are checked correctly
                darkmode.updateButtons();
            }
            function del(){
                tempbuttons.forEach(function(item){
                    item.remove();
                });
                // refreshing buttons so the darkmode class knows what buttons to use
                darkmode.addButtonListeners();
                // also updating buttons so they are checked correctly
                darkmode.updateButtons();
            }
        </script>




        <h2>More info:</h2>
        <div class="wrap">
            <p>Simple Example:</p>
            <p class="indent">let darkModeTheme = "--text-color: white; --background-color: black;";</p>
            <p class="indent">let lightModeTheme = "--text-color: black; --background-color: white;";</p>
            <p class="indent">let darkmode = new Darkmode(darkModeTheme, lightModeTheme, true);</p>
            <br>
            <p>Details:</p>
            <p class="indent">constructor DarkMode(</p>
            <p class="indent-2">    String : darkModeTheme</p>
            <p class="indent-2">    String : lightModeTheme</p>
            <p class="indent-2">    Bool   : darkByDefault? (default = true)</p>
            <p class="indent">)</p>
            <br>
            <p>Notes:</p>
            <div class="indent" style="margin-top:1rem;">This DarkMode script is currently only made to accept strings of :root variables.</div>
            <div class="indent" style="margin-top:1rem;">To use this script you would need to create your site with colors/styles based on :root variables.</div>
            <div class="indent" style="margin-top:1rem;">(You could also use the inspector on this page to see how it works a bit)</div>
            <div class="indent" style="margin-top:1rem;">The script uses cookies to save the darkmode state</div><br><br>
            <div class="indent" style="margin-top:1rem;">
                The script also updates all the buttons everytime one of them is pressed (async)<br>
                It is possible to later add buttons and they can be added to the rest<br>(usefull for onepage websites or dynamic windows)<br>
                To do this use the <pre>OBJECT.addButtonListeners();</pre> method and use the <pre>OBJECT.updateButtons();</pre> method to update the button visuals(make it checked correctly)<br><br>
            </div>
            <div class="indent" style="margin-top:1rem;">
                The class loops over all elements that have a custom attribute called "darkmode-selector".<br>
                This custom attribute can be applied to any input of type checkbox <pre>&lt;input type="checkbox" darkmode-selector="1"&gt;</pre>
            </div>
            <div class="indent" style="margin-top:1rem;">
                the value(number) refers to if you want the default state on or off<br><br>
                darkmode-selector="1"  =   if input value is set to true it will make it light<br>
                darkmode-selector="2"  =   if input value is set to true it will make it dark
            </div>
            <br><br><br><br>
            <p>Downsights:</p>
            <p class="indent">NONE</p>
            <p class="indent">1 - im slow and lazy</p>
            <p class="indent">2 - too many buttons in the dom at the same time can become laggy</p>
            <p class="indent">3 - the minified version is currently <pre>2,28 KB (2.340 bytes)</pre> (says windows :D) but can be less if im not lazy B)</p>
            <br>
        </div>

    </div>
</body>
</html>