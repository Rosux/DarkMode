class DarkMode{constructor(t="",e=""){this.dmt=t,this.lmt=e,this.mode=this.#t(),this.setTheme(),"complete"===document.readyState||"interactive"===document.readyState?this.applyListener():window.addEventListener("DOMContentLoaded",(()=>{this.applyListener()})),this.updateButtons()}defaultColorScheme(){this.mode=window.matchMedia("(prefers-color-scheme: dark)").matches,this.#e()}on(){this.mode=!0,this.#e()}off(){this.mode=!1,this.#e()}toggle(){this.mode=!this.mode,this.#e()}getMode(){return this.mode}async applyListener(){const t=document.querySelectorAll("[darkmode-button]");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(t=>{"on"===t.target.getAttribute("darkmode-button")?this.on():"off"===t.target.getAttribute("darkmode-button")?this.off():"switch"===t.target.getAttribute("darkmode-button")?this.toggle():"default"===t.target.getAttribute("darkmode-button")&&this.defaultColorScheme(),t.target.setAttribute("darkmode-data",this.mode)}));const e=document.querySelectorAll("[darkmode-selector]");for(let t=0;t<e.length;t++)e[t].addEventListener("change",(t=>{"false"===t.target.getAttribute("darkmode-selector")?t.target.checked?this.off():this.on():t.target.checked?this.on():this.off()}));this.updateButtons()}async updateButtons(){const t=document.querySelectorAll("[darkmode-button]");for(let e=0;e<t.length;e++)t[e].setAttribute("darkmode-data",this.mode);const e=document.querySelectorAll("[darkmode-selector]");for(let t=0;t<e.length;t++){const o=e[t];"false"===o.getAttribute("darkmode-selector")?this.mode?o.checked=!1:o.checked=!0:this.mode?o.checked=!0:o.checked=!1}}setTheme(){this.mode?document.body.style.cssText=this.dmt:document.body.style.cssText=this.lmt}#e(){this.setTheme(),this.updateButtons(),this.#o()}#t(){return null===localStorage.getItem("darkmode")&&localStorage.setItem("darkmode",window.matchMedia("(prefers-color-scheme: dark)").matches),"true"===localStorage.getItem("darkmode")}#o(){localStorage.setItem("darkmode",this.mode)}}